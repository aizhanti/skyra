(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,function(e,t,n){e.exports=n.p+"static/media/icon.d8a449e3.png"},,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(2),i=n.n(o),r=(n(10),n(4)),c=(n(11),n(12),n(3)),s=n.n(c);var d=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1];function i(){window.liff.getProfile().then((function(e){var t=e.displayName;o(e.userId),console.log("app.js profile name, userid line103 ========>",t,n)})).catch((function(e){console.log("error",e)}))}return Object(a.useEffect)((function(){fetch("/send-id").then((function(e){return console.log("reqResponse",e.body),e.json()})).then((function(e){console.log("jsonresponseeee",e),function(e){e&&function(e){console.log("myLIffid---------\x3e",e),window.liff.init({liffId:e}).then((function(){window.liff.isLoggedIn();var e=window.liff.getDecodedIDToken();console.log("app.js line68 initializeLiff -> idToken*****",e)})).catch((function(e){console.log(e)}))}(e)}(e.id)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",{className:"App"},l.a.createElement("div",{id:"liffAppContent"},l.a.createElement("div",{className:"intro-section"},l.a.createElement("p",{id:"title"},"SKYRA"),l.a.createElement("img",{id:"icon",src:s.a}),l.a.createElement("p",null,"Subcribe to our product to get COVID-19 stats and Dad Jokes delivered to your Line daily."),l.a.createElement("p",null,"Start by logging into your line account"),l.a.createElement("button",{className:"liffLoginButton",onClick:function(){window.liff.isLoggedIn()||(console.log("loginClick -> window.liff.isLoggedIn()******",window.liff.isLoggedIn()),console.log("Before login*******"),window.liff.login(),console.log("After login****"),i(),console.log("After login getuserID()******"))}},"Log in")),l.a.createElement("div",{className:"add-assistant-section"},l.a.createElement("p",null,"Use this QR code to add the assistant to your Line and wait for the messages!"),l.a.createElement("img",{id:"qrcode",src:"/151tshrj.png"}),l.a.createElement("p",null,"You will get a message every morning at 10:00 (JST/EST) (?)"),l.a.createElement("p",null,"Maybe add a screenshot here of the line message")),l.a.createElement("div",{className:"buttonGroup"},l.a.createElement("div",{className:"buttonRow"}),l.a.createElement("div",{className:"buttonRow"},l.a.createElement("button",{id:"scanQrCodeButton",className:"liffLoginButton",onClick:function(){return i(),console.log("inside CovidStatus",n),void fetch("/get-covid-status?userId=".concat(n)).then((function(e){return console.log("THIS IS A RESPONSE FOR COVID!!------\x3e",e)}))}},"Get COVID Status"),l.a.createElement("button",{id:"sendMessageButton",className:"liffLoginButton",onClick:function(){return i(),console.log("inside sendJoke",n),void fetch("/send-joke?userId=".concat(n)).then((function(e){return console.log("THIS IS A RESPONSE FOR JOKES!!------\x3e",JSON.stringify(e.data))}))}},"Send Joke")),l.a.createElement("p",null,"How about your Horoscope?"),l.a.createElement("horoscope",{sign:"virgo",day:"today"}),l.a.createElement("div",{className:"buttonRow"},l.a.createElement("button",{id:"getAccessToken",className:"liffLoginButton"},"Get Access Token"),l.a.createElement("button",{id:"getProfileButton",className:"liffLoginButton"},"Get Profile"))),l.a.createElement("div",{id:"hooter"},"\xa9 SKYRA 2020. All rights reserved."),l.a.createElement("div",{id:"shareTargetPickerMessage"}),l.a.createElement("div",{id:"accessTokenData",className:"hidden textLeft"},l.a.createElement("h2",null,"Access Token"),l.a.createElement("a",{href:"#"},"Close Access Token"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"accessToken"),l.a.createElement("td",{id:"accessTokenField"})))),l.a.createElement("div",{id:"scanQr",className:"hidden textLeft"},l.a.createElement("h2",null,"QR Code reader"),l.a.createElement("a",{href:"#"},"Close QR Code Reader Result"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"scanCode Result"),l.a.createElement("td",{id:"scanQrField"})))),l.a.createElement("div",{id:"profileInfo",className:"hidden textLeft"},l.a.createElement("h2",null,"Profile"),l.a.createElement("a",{href:"#"},"Close Profile"),l.a.createElement("div",{id:"profilePictureDiv"}),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"userId"),l.a.createElement("td",{id:"userIdProfileField"})),l.a.createElement("tr",null,l.a.createElement("th",null,"displayName"),l.a.createElement("td",{id:"displayNameField"})),l.a.createElement("tr",null,l.a.createElement("th",null,"statusMessage"),l.a.createElement("td",{id:"statusMessageField"}))))),l.a.createElement("div",{id:"liffIdErrorMessage",className:"hidden"},l.a.createElement("p",null,"You have not assigned any value for LIFF ID."),l.a.createElement("p",null,"If you are running the app using Node.js, please set the LIFF ID as an environment variable in your Heroku account follwing the below steps:"," "),l.a.createElement("code",{id:"code-block"},l.a.createElement("ol",null,l.a.createElement("li",null,"Go to `Dashboard` in your Heroku account."),l.a.createElement("li",null,"Click on the app you just created."),l.a.createElement("li",null,"Click on `Settings` and toggle `Reveal Config Vars`."),l.a.createElement("li",null,"Set `MY_LIFF_ID` as the key and the LIFF ID as the value."),l.a.createElement("li",null,"Your app should be up and running. Enter the URL of your app in a web browser."))),l.a.createElement("p",null,"If you are using any other platform, please add your LIFF ID in the"," ",l.a.createElement("code",null,"index.html")," file."),l.a.createElement("p",null,"For more information about how to add your LIFF ID, see"," ",l.a.createElement("a",{href:"https://developers.line.biz/en/reference/liff/#initialize-liff-app"},"Initializing the LIFF app"),".")),l.a.createElement("div",{id:"liffInitErrorMessage",className:"hidden"},l.a.createElement("p",null,"Something went wrong with LIFF initialization."),l.a.createElement("p",null,'LIFF initialization can fail if a user clicks "Cancel" on the "Grant permission" screen, or if an error occurs in the process of'," ",l.a.createElement("code",null,"liff.init()"),".")),l.a.createElement("div",{id:"nodeLiffIdErrorMessage",className:"hidden"},l.a.createElement("p",null,"Unable to receive the LIFF ID as an environment variable.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.ed653d6c.chunk.js.map